{% extends 'base.html'%}
{% load static %}
{% load tailwind_filters %}



{% block content%}

   <link rel="stylesheet" href="https://gethologram.com/glide/css/glide.core.min.css">
    <link rel="stylesheet" href="https://gethologram.com/glide/css/glide.theme.min.css">
    <link rel="stylesheet" href="https://gethologram.com/basic-lightbox/basicLightbox.min.css">
    <script src="https://gethologram.com/basic-lightbox/basicLightbox.min.js"></script>












<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<section id="loadingsection" class="mx-5 hidden py-5rounded-2xl border">

<h1 class="text-2xl border-b mx-5 text-center text-green-500 font-extrabold mb-5">Calculating your vertical!</h1>
<h1 class="text-center text-xs font-extrabold text-gray-500">This can take a few minutes</h1>
<h1 class="text-center pb-5 text-xs font-extrabold text-red-500">DO NOT CLICK OFF THE PAGE</h1>

<h1 class="text-xs mx-5 text-center text-gray-500">While your vertical is being calculated...</h1>
<h1 class="text mx-5 text-center font-extrabold">Tips to increase your vertical, instantly.</h1>




    <div class="mx-5 rounded-xl border-2 shadow-2xl"><object>
    <param name="movie" value="http://www.youtube.com/v/wKHFhG9WQug?rel=0&autoplay=1"></param>
    <embed src="http://www.youtube.com/v/wKHFhG9WQug?rel=0&autoplay=1" type="application/x-shockwave-flash"></embed>
</object></div>

    <div class="mx-auto text-center mt-5">
    <svg xmlns="http://www.w3.org/2000/svg" class="animate-bounce mx-auto h-6 w-6 text-green-500 font-extrabold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
</svg>
  <p id ="message"class="text-base px-5 text-green-500 mx-auto font-extrabold">Calculating...</p>
</div>


</section>



   


      <section class="relative py-8 px-5 sm:px-20 overflow-hidden content pt-32">
        <div class="relative py-10 border-2 bg-white border border-red-500 shadow-xl rounded-2xl">
          <div class="container px-4 mx-auto">
            <div class="flex flex-wrap -mx-4">
              <div class="w-full lg:w-1/2 px-4 mb-5 lg:mb-0">
                <div class="lg:max-w-md">
                  <h2 class="mb-5 text-3xl md:text-10xl xl:text-11xl text-center font-extrabold"><span class="block w-full text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-blue-500 lg:inline">HeartTalksAI</span></h2>
                  <p class="text-sm pl-3 font-bold text-gray-400">Use our technology to analyze your meetings and checkups with your patients. Whether they give you feedback or just talk, we help you take less notes, and quickly analyze your patient's rehab needs.</p>

                </div>
              </div>
              <div class="w-full lg:w-1/2 px-4">
                <div class="flex flex-wrap justify-center -mb-4 -mx-4">

                    <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}

                  <div class="w-full md:w-auto px-4 mb-4">
                    <label id="uploadlabel" class="flex items-center justify-center py-5 px-5 border-2 border-black rounded-xl">
                      <svg id="uploadsvg" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
</svg>
                      <p id="demo" class="font-bold uppercase">Upload Audio</p>
                      {{ form.audio }}
                    </label>

                  </div>

                  {{ form.patient|as_crispy_field }}
                  <div class="w-full md:w-auto px-4 mb-4">
                    <button disable id="button" type="submit" class="loading flex items-center justify-center mx-auto  bg-gray-100 py-5 px-5 border-2 border-gray-100 hover:border-gray-100 rounded-xl">
                      <svg id="loading" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-1 text-white font-extrabold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
</svg>
                      <p id="loading1" class="font-extrabold uppercase text-white">Analyze</p>
                      <svg id="analyze" xmlns="http://www.w3.org/2000/svg" class="hidden animate-bounce h-6 w-6 text-white font-extrabold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
</svg>

                    </button>
                    <p id="analyze1" class="hidden text-gray-500 pt-3">This can take a few minutes...</p>

                  </div>
                </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>


    
<script type="text/javascript">

const button = document.querySelector('#button');
const loading = document.querySelector('#loading');
const loading1 = document.querySelector('#loading1');
const analyze = document.querySelector('#analyze');
const analyze1 = document.querySelector('#analyze1');
const loadingsection = document.querySelector('#loadingsection');
const vertsubmit = document.querySelector("#vertsubmit");


button.addEventListener('click', () => {
    if (loading.classList.contains('hidden')) {
    } else {
        loading.classList.add('hidden');
        loading1.classList.add('hidden');
        analyze.classList.remove('hidden');
        analyze1.classList.remove('hidden');
        loadingsection.classList.remove('hidden');
        vertsubmit.classList.add('hidden');
        move()
        
    }


  
})

var pullfiles=function(){
    // love the query selector
    var fileInput = document.querySelector("#myfiles");
    var text = document.querySelector("#demo");
    var details = document.querySelector("#details");
    var files = fileInput.files;
    // cache files.length
    var fl = files.length;
    var i = 0;

    while ( i < fl) {
        // localize file var in the loop
        var file = files[i];
        text.innerText = "Uploaded!";
        button.classList.remove('bg-gray-100')
        button.classList.add('bg-green-500')
        loading.classList.add('animate-bounce')
        details.classList.remove('hidden')
        i++;
    }
}

// set the input element onchange to call pullfiles
document.querySelector("#myfiles").onchange=pullfiles;

//a.t

const tutorial = document.querySelector('#tutorial');
const input = document.querySelector('#myfiles');
const svg = document.querySelector('#uploadsvg');
const text = document.querySelector("#demo");
const uploadlabel = document.querySelector("#uploadlabel");



tutorial.addEventListener("click", function() {
  text.classList.remove('text-gray-100');
  text.classList.add('text-black');
  svg.classList.remove('text-gray-100');
  svg.classList.add('text-black');
  uploadlabel.classList.remove('border-gray-100');
  uploadlabel.classList.add('border-black');

})


</script>





<style>
    .basicLightbox__placeholder {
        width: 80%;
    }

    .videoWrapper {
        position: relative;
        padding-bottom: 56.25%;
        /* 16:9 */
        height: 0;
    }

    .videoWrapper iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
</style>

<div id="light-box" class="light-box-content">
    <div class="videoWrapper"><iframe id="ytplayer" type="text/html" width="100%" height="450"
            src="https://www.youtube.com/embed/wKHFhG9WQug?rel=0&autoplay=1" frameborder="0" allowfullscreen></iframe></div>
</div>

<script>
const lb = basicLightbox.create(document.querySelector('#light-box'))
const lbnext = basicLightbox.create(document.querySelector('#light-boxnext'))


function showLightbox(event) {
    let lightboxEl = lb.element()

    lb.show()
}

</script>

<script>
var i = 0;
function move() {
  if (i == 0) {
    i = 1;
    var elem = document.getElementById("myBar");
    var message = document.getElementById("message");
    var width = 1;
    var id = setInterval(frame, 1000);
    function frame() {
      if (width >= 100) {
        clearInterval(id);
        i = 0;
      } else {
        width++;
        elem.style.width = width + "%";
        if (width > 1 && width < 10){
          message.innerText = "Uploading Video..."
        }
        if (width > 10 && width < 30){
          message.innerText = "Getting Positional Data..."
        }
        if (width > 30 && width < 80){
          message.innerText = "Calculating Vertical..."
        }
        if (width > 80){
          message.innerText = "Finishing Up!"
        }

      }
    }
  }
}



</script>
{% endblock %}